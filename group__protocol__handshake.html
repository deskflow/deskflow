<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Deskflow: Handshake Messages</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Deskflow<span id="projectnumber">&#160;1.24.0.65</span>
   </div>
   <div id="projectbrief">Keyboard and mouse sharing utility</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__protocol__handshake.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Handshake Messages <div class="ingroups"><a class="el" href="group__protocol__messages.html">Protocol Message Definitions</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Connection establishment and version negotiation.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Handshake Messages:</div>
<div class="dyncontent">
<div class="center"><img src="group__protocol__handshake.png" border="0" usemap="#agroup____protocol____handshake" loading="lazy" alt=""/></div>
<map name="agroup____protocol____handshake" id="agroup____protocol____handshake">
<area shape="rect" title="Connection establishment and version negotiation." alt="" coords="246,5,396,30"/>
<area shape="rect" href="group__protocol__messages.html" title="All protocol message types and their format specifications." alt="" coords="5,5,198,30"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaa12cde1e2a95ec6f663c1a73b57f84d1" id="r_gaa12cde1e2a95ec6f663c1a73b57f84d1"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa12cde1e2a95ec6f663c1a73b57f84d1">kSynergyProtocolName</a></td></tr>
<tr class="memdesc:gaa12cde1e2a95ec6f663c1a73b57f84d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protocol name for Synergy compatibility.  <br /></td></tr>
<tr class="memitem:ga023a1e0dc40921e040d7a816292f49c7" id="r_ga023a1e0dc40921e040d7a816292f49c7"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga023a1e0dc40921e040d7a816292f49c7">kBarrierProtocolName</a></td></tr>
<tr class="memdesc:ga023a1e0dc40921e040d7a816292f49c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protocol name for Barrier compatibility.  <br /></td></tr>
<tr class="memitem:ga7fe883657ad6c4ac7077705202493ff6" id="r_ga7fe883657ad6c4ac7077705202493ff6"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7fe883657ad6c4ac7077705202493ff6">kMsgHello</a></td></tr>
<tr class="memdesc:ga7fe883657ad6c4ac7077705202493ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classServer.html" title="Deskflow server.">Server</a> hello message.  <br /></td></tr>
<tr class="memitem:ga8b406d6f067791e9f4117d73f587c683" id="r_ga8b406d6f067791e9f4117d73f587c683"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8b406d6f067791e9f4117d73f587c683">kMsgHelloArgs</a></td></tr>
<tr class="memdesc:ga8b406d6f067791e9f4117d73f587c683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format string for server hello message arguments.  <br /></td></tr>
<tr class="memitem:gafc643c9a9e9f9daf5082657a4faf6575" id="r_gafc643c9a9e9f9daf5082657a4faf6575"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafc643c9a9e9f9daf5082657a4faf6575">kMsgHelloBack</a></td></tr>
<tr class="memdesc:gafc643c9a9e9f9daf5082657a4faf6575"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classClient.html" title="Deskflow client.">Client</a> hello response message.  <br /></td></tr>
<tr class="memitem:gafb82d058b11b4cb463f49ce16bd6bb0f" id="r_gafb82d058b11b4cb463f49ce16bd6bb0f"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafb82d058b11b4cb463f49ce16bd6bb0f">kMsgHelloBackArgs</a></td></tr>
<tr class="memdesc:gafb82d058b11b4cb463f49ce16bd6bb0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format string for client hello response arguments.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Connection establishment and version negotiation. </p>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ga023a1e0dc40921e040d7a816292f49c7" name="ga023a1e0dc40921e040d7a816292f49c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga023a1e0dc40921e040d7a816292f49c7">&#9670;&#160;</a></span>kBarrierProtocolName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const kBarrierProtocolName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Protocol name for Barrier compatibility. </p>
<p>Used in handshake messages to identify the protocol as Barrier-compatible. Must be exactly 7 characters for backward compatibility.</p>
<dl class="section since"><dt>Since</dt><dd>Protocol version 1.0 </dd></dl>

</div>
</div>
<a id="ga7fe883657ad6c4ac7077705202493ff6" name="ga7fe883657ad6c4ac7077705202493ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fe883657ad6c4ac7077705202493ff6">&#9670;&#160;</a></span>kMsgHello</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const kMsgHello</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classServer.html" title="Deskflow server.">Server</a> hello message. </p>
<p><b><a class="el" href="DirectionTypes_8h.html#a5d16bedaff50120f1b7fc0b264d62da6" title="Screen edge directions for mouse movement.">Direction</a></b>: Primary â†’ Secondary <b>Format</b>: <span class="tt">"%7s%2i%2i"</span> <b>Parameters</b>:</p><ul>
<li><span class="tt">$1</span>: Protocol name (7 bytes, fixed-size) - A fixed-size field for the protocol identifier, used for backward compatibility. The supported values are "Synergy" or "Barrier". "Barrier" is the default protocol name, while "Synergy" is used only for backwards compatibility. This is an exception to the standard length-prefixed string format.</li>
<li><span class="tt">$2</span>: <a class="el" href="classServer.html" title="Deskflow server.">Server</a> major version number (2 bytes)</li>
<li><span class="tt">$3</span>: <a class="el" href="classServer.html" title="Deskflow server.">Server</a> minor version number (2 bytes)</li>
</ul>
<p><b>Example</b>:</p>
<p>Barrier protocol, version 1.8 </p><div class="fragment"><div class="line"><span class="stringliteral">&quot;Barrier\x00\x01\x00\x08&quot;</span></div>
</div><!-- fragment --><p>This is the first message sent by the server after a client connects. The client uses this to determine protocol compatibility.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gafc643c9a9e9f9daf5082657a4faf6575" title="Client hello response message.">kMsgHelloBack</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>Protocol version 1.0 </dd></dl>

</div>
</div>
<a id="ga8b406d6f067791e9f4117d73f587c683" name="ga8b406d6f067791e9f4117d73f587c683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b406d6f067791e9f4117d73f587c683">&#9670;&#160;</a></span>kMsgHelloArgs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const kMsgHelloArgs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Format string for server hello message arguments. </p>
<p><b>Format</b>: <span class="tt">"%2i%2i"</span> <b>Parameters</b>:</p><ul>
<li><span class="tt">$1</span>: <a class="el" href="classServer.html" title="Deskflow server.">Server</a> major version number (2 bytes)</li>
<li><span class="tt">$2</span>: <a class="el" href="classServer.html" title="Deskflow server.">Server</a> minor version number (2 bytes)</li>
</ul>
<p>Used as part of dynamic hello message construction.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga7fe883657ad6c4ac7077705202493ff6" title="Server hello message.">kMsgHello</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>Protocol version 1.0 </dd></dl>

</div>
</div>
<a id="gafc643c9a9e9f9daf5082657a4faf6575" name="gafc643c9a9e9f9daf5082657a4faf6575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc643c9a9e9f9daf5082657a4faf6575">&#9670;&#160;</a></span>kMsgHelloBack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const kMsgHelloBack</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classClient.html" title="Deskflow client.">Client</a> hello response message. </p>
<p><b><a class="el" href="DirectionTypes_8h.html#a5d16bedaff50120f1b7fc0b264d62da6" title="Screen edge directions for mouse movement.">Direction</a></b>: Secondary â†’ Primary <b>Format</b>: <span class="tt">"%7s%2i%2i%s"</span> <b>Parameters</b>:</p><ul>
<li><span class="tt">$1</span>: Protocol name (7 bytes, fixed-size) - A fixed-size field for the protocol identifier, which must match the server's. The supported values are "Synergy" or "Barrier". "Barrier" is the default protocol name, while "Synergy" is used only for backwards compatibility. This is an exception to the standard length-prefixed string format.</li>
<li><span class="tt">$2</span>: <a class="el" href="classClient.html" title="Deskflow client.">Client</a> major version number (2 bytes)</li>
<li><span class="tt">$3</span>: <a class="el" href="classClient.html" title="Deskflow client.">Client</a> minor version number (2 bytes)</li>
<li><span class="tt">$4</span>: <a class="el" href="classClient.html" title="Deskflow client.">Client</a> name (string) - A standard length-prefixed string.</li>
</ul>
<p><b>Example</b>:</p>
<p>Barrier protocol, version 1.8, client name "workstation" </p><div class="fragment"><div class="line"><span class="stringliteral">&quot;Barrier\x00\x01\x00\x08\x00\x00\x00\x0Bworkstation&quot;</span></div>
</div><!-- fragment --><p>Sent by the client in response to kMsgHello. After this exchange, both sides negotiate to use the minimum supported protocol version.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga7fe883657ad6c4ac7077705202493ff6" title="Server hello message.">kMsgHello</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>Protocol version 1.0 </dd></dl>

</div>
</div>
<a id="gafb82d058b11b4cb463f49ce16bd6bb0f" name="gafb82d058b11b4cb463f49ce16bd6bb0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb82d058b11b4cb463f49ce16bd6bb0f">&#9670;&#160;</a></span>kMsgHelloBackArgs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const kMsgHelloBackArgs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Format string for client hello response arguments. </p>
<p><b>Format</b>: <span class="tt">"%2i%2i%s"</span> <b>Parameters</b>:</p><ul>
<li><span class="tt">$1</span>: <a class="el" href="classClient.html" title="Deskflow client.">Client</a> major version number (2 bytes)</li>
<li><span class="tt">$2</span>: <a class="el" href="classClient.html" title="Deskflow client.">Client</a> minor version number (2 bytes)</li>
<li><span class="tt">$3</span>: <a class="el" href="classClient.html" title="Deskflow client.">Client</a> name (string)</li>
</ul>
<p>Used as part of dynamic hello message construction.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gafc643c9a9e9f9daf5082657a4faf6575" title="Client hello response message.">kMsgHelloBack</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>Protocol version 1.0 </dd></dl>

</div>
</div>
<a id="gaa12cde1e2a95ec6f663c1a73b57f84d1" name="gaa12cde1e2a95ec6f663c1a73b57f84d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa12cde1e2a95ec6f663c1a73b57f84d1">&#9670;&#160;</a></span>kSynergyProtocolName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const kSynergyProtocolName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Protocol name for Synergy compatibility. </p>
<p>Used in handshake messages to identify the protocol as Synergy-compatible. Must be exactly 7 characters for backward compatibility.</p>
<dl class="section since"><dt>Since</dt><dd>Protocol version 1.0 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
